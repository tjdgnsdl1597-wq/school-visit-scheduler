/* Google Fonts Import */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');

/* CSS Variables for new design */
:root {
    --bg-color: #ffffff;
    --panel-border-color: #000000;
    --text-color: #000000;
    --primary-color: #004aad; /* A shade of blue for active elements */
    --secondary-color: #333;
    --header-bg: #ffffff;
    --nav-text-color: #555;
    --nav-active-border: #007bff;
    --calendar-header-bg: #3c4a54;
    --calendar-header-text: #ffffff;
    --font-family: 'Noto Sans KR', sans-serif;
}

/* Global Resets and Base Styles */
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    font-family: var(--font-family);
    background-color: var(--bg-color);
    color: var(--text-color);
    -webkit-font-smoothing: antialiased;
    line-height: 1.5;
}

a { color: inherit; text-decoration: none; }

/* =================================== */
/* ===== Common Layout & Header ====== */
/* =================================== */

.topbar {
    display: flex;
    align-items: center;
    padding: 0 24px;
    height: 64px;
    background-color: var(--header-bg);
    border-bottom: 2px solid var(--panel-border-color);
}

.brand { display: flex; align-items: center; flex-shrink: 0; }

.brand .logo {
    width: 32px; height: 32px; background-color: #007bff; margin-right: 12px;
}
.brand h1 { font-size: 18px; font-weight: 700; }

.nav {
    flex-grow: 1; display: flex; justify-content: center; gap: 20px; margin: 0 40px;
}
.nav a {
    padding: 10px 20px; font-weight: 700; font-size: 16px; color: var(--nav-text-color);
    border-bottom: 4px solid transparent; transition: border-color 0.2s;
}
.nav a:hover { border-bottom-color: var(--nav-active-border); }
.nav a.active { color: var(--nav-active-border); border-bottom-color: var(--nav-active-border); }
.nav a.disabled { color: #aaa; cursor: not-allowed; }

.search-box { display: flex; align-items: center; border: 2px solid var(--panel-border-color); }
.search-box input {
    border: none; padding: 8px 12px; height: 36px; font-size: 14px; outline: none;
}
.search-box .search-btn {
    width: 36px; height: 36px; border: none; background-color: var(--nav-active-border); cursor: pointer;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-search' viewBox='0 0 16 16'%3E%3Cpath d='M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z'/%3E%3C/svg%3E");
    background-repeat: no-repeat; background-position: center;
}

.container {
    display: flex; gap: 24px; padding: 24px; max-width: 1400px; margin: 0 auto; align-items: flex-start;
}
.sidebar { width: 250px; flex-shrink: 0; display: flex; flex-direction: column; gap: 24px; }
.main-content { flex-grow: 1; }

.panel { border: 2px solid var(--panel-border-color); padding: 15px; }
.panel-title { font-size: 16px; font-weight: 700; margin-bottom: 15px; }

.btn-primary {
    background-color: var(--primary-color); color: #fff; width: 100%; padding: 12px;
    border: none; border-radius: 6px; font-size: 16px; font-weight: 700; cursor: pointer;
}
.btn-secondary {
    background-color: #f0f0f0; color: var(--text-color);
    border: 1px solid var(--panel-border-color); border-radius: 6px; cursor: pointer;
}

/* =================================== */
/* ===== Main Page (index.html) ====== */
/* =================================== */

.user-panel { text-align: center; }
.user-photo {
    width: 120px; height: 120px; border-radius: 50%; margin: 0 auto 15px;
    border: 2px solid var(--panel-border-color); background-size: cover; background-position: center;
}
.user-name { font-size: 20px; font-weight: 700; margin-bottom: 10px; }
.user-details p { font-size: 14px; margin-bottom: 5px; text-align: left; }

#logoutBtn { width: 100%; margin-top: 16px; padding: 10px; font-weight: 500; }

.todo-panel .todo-list { min-height: 150px; }
.todo-list .empty-message { font-size: 14px; color: #888; }
.todo-list .todo-item { font-size: 14px; padding: 8px 0; border-bottom: 1px solid #f0f0f0; }
.todo-list .todo-item:last-child { border-bottom: none; }

.calendar-header {
    display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;
}
.calendar-title { display: flex; align-items: baseline; gap: 15px; }
.calendar-header .year { font-size: 24px; font-weight: 700; color: var(--year-color); }
.calendar-header .month { font-size: 48px; font-weight: 700; }

.calendar-controls { display: flex; gap: 10px; }
.calendar-controls button {
    width: 40px; height: 40px; border: 2px solid var(--panel-border-color); background-color: #fff;
    font-size: 24px; font-weight: bold; cursor: pointer; transition: background-color 0.2s;
}
.calendar-controls button:hover { background-color: #f0f0f0; }

#calendar { border: 2px solid var(--panel-border-color); padding: 0; }
.fc .fc-toolbar { display: none; }
.fc .fc-col-header-cell {
    background-color: var(--calendar-header-bg); color: var(--calendar-header-text);
    padding: 10px 0; font-weight: 500;
}
.fc .fc-daygrid-day-number { padding: 8px; font-size: 14px; font-weight: 700; }
.fc .fc-day-today { background-color: #e6f7ff !important; }
.fc .fc-event {
    background-color: #ffb3b3 !important; border: 1px solid #d9534f !important;
    color: #000 !important; font-weight: 500; padding: 2px 4px;
}

.widget-container { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; margin-top: 24px; }
.widget { min-height: 150px; }
.widget textarea {
    width: 100%; height: 100px; resize: none; border: 1px solid #ccc; padding: 8px;
}

/* ============================================= */
/* ===== Schedule Page (schedule.html) ========= */
/* ============================================= */

.schedule-container { align-items: flex-start; }
.schedule-sidebar { width: 380px; flex-shrink: 0; }
.page-title { font-size: 24px; font-weight: 700; margin-bottom: 24px; }

#schedule-form .form-group,
#sidebarLoginForm .form-group { margin-bottom: 15px; }

#schedule-form .form-group-inline {
    display: flex; gap: 16px; margin-bottom: 20px;
}
#schedule-form .form-group-inline .form-group { flex: 1; margin-bottom: 0; }

#schedule-form label,
#sidebarLoginForm label { display: block; font-weight: 500; margin-bottom: 8px; }

#schedule-form input,
#schedule-form select,
#schedule-form textarea,
#sidebarLoginForm input {
    width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 4px; font-size: 14px; font-family: var(--font-family);
}

#schedule-form .form-actions {
    display: flex; gap: 12px; margin-top: 24px;
}
#schedule-form .form-actions button {
    flex-grow: 1; padding: 12px; border-radius: 6px; font-size: 16px; font-weight: 700; cursor: pointer; transition: background-color 0.3s;
}
/* 초기화 버튼 한 줄 + 살짝 작은 폰트 */
#schedule-form .form-actions .btn-secondary {
    white-space: nowrap; font-size: 14px; line-height: 1.2; padding: 10px 12px;
}

.form-message {
    font-size: 14px; text-align: center; margin-top: 16px; padding: 10px; border-radius: 4px; display: none;
}
.form-message.error { color: #d9534f; background-color: #f2dede; }
.form-message.success { color: #3c763d; background-color: #dff0d8; }

/* 기본 목적 리스트(다른 섹션에서 재사용 가능) */
.purpose-list { display: flex; flex-direction: column; gap: 12px; }
.purpose-list .checkbox-group { display: flex; align-items: center; gap: 8px; }
.purpose-list .checkbox-group input[type="checkbox"] { width: 16px; height: 16px; }
.purpose-list .sub-input { padding-left: 24px; display: none; }
.purpose-list .sub-input input {
    width: 100%; padding: 8px; font-size: 13px; background-color: #f9f9f9;
}

/* Sidebar compact inputs */
#sidebarLoginForm .form-group input { padding: 8px; font-size: 13px; }
#sidebarLoginForm .sub-link {
    display: block; text-align: center; font-size: 12px; color: var(--secondary-color);
    margin-top: 15px; text-decoration: underline;
}

/* =================================== */
/* ===== Sidebar Login Form Styles === */
/* =================================== */

#sidebar-login-section { margin-top: 20px; padding-top: 20px; border-top: 2px solid var(--panel-border-color); }
#sidebar-login-section .form-group { margin-bottom: 10px; }
#sidebar-login-section input {
    width: 100%; padding: 8px; font-size: 13px; border: 1px solid #ccc; border-radius: 4px;
}
#sidebar-login-section .btn-primary { padding: 10px; }

/* ===================================================== */
/* ===== 방문 목적: 왼쪽 4개 / 오른쪽 2개 배치 (최종) ==== */
/* ===================================================== */

.purposes-group { display: block; }
.purposes-group > label { display: block; font-weight: 600; margin-bottom: 8px; }

/* 핵심: column 방향으로 먼저 채움 → 왼쪽 열에 최대 4개, 나머지는 오른쪽 열 */
.purposes-group .purpose-list {
    display: grid;
    grid-template-columns: 1fr 1fr;       /* 두 열 */
    grid-template-rows: repeat(4, auto);  /* 왼쪽 열 4행 */
    grid-auto-flow: column;               /* 세로 우선 채움 */
    gap: 12px 24px;
    align-items: center;
}

/* 각 항목은 [체크+라벨] | [상세입력]의 2칸 그리드 */
.purposes-group .purpose-row {
    display: grid;
    grid-template-columns: max-content 1fr;
    align-items: center;
    column-gap: 16px;
}

/* 체크박스 + 라벨 한 줄 고정 */
.purposes-group .checkbox-group { display: flex; align-items: center; gap: 8px; }
.purposes-group .checkbox-group label { white-space: nowrap; word-break: keep-all; line-height: 1.6; }

/* 상세 입력: 기본 숨김 → JS에서 체크 시 parentElement.style.display='block' */
.purposes-group .sub-input { display: none; }
.purposes-group .sub-input input {
    width: 100%; padding: 4px 0; border: 0; border-bottom: 2px solid #0f172a;
    background: transparent; outline: none;
}

/* 좁은 화면에서는 1열로 자연스럽게 전환 */
@media (max-width: 640px) {
    .purposes-group .purpose-list {
        grid-template-columns: 1fr;
        grid-auto-flow: row;
        grid-template-rows: none;
    }
    .purposes-group .purpose-row { grid-template-columns: 1fr; }
    .purposes-group .sub-input { margin-left: 28px; }
}
/* 교육/기타 행은 2열 전체를 차지 → 입력칸이 가로 2배 */
.purposes-group .purpose-row:has(#edu-type),
.purposes-group .purpose-row:has(#etc-purpose) {
  grid-column: 1 / -1; /* 부모 .purpose-list의 두 컬럼 모두 차지 */
}
